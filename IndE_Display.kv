#:kivy 2.3.1

<IndE_Display>:
    
    #Black header bar
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1
        Rectangle:
            pos: 0, self.height 
            size: self.width, -self.height/10

    canvas:
    # All Page/Indicator
        # E-Stop
        Color:
            rgba: self.Emergancy_status
        Ellipse:
            pos: self.width*15/16, self.height*73/80
            size: root.height/13, root.height/13
        # Battery
        Color:
            rgba: self.Battery_status
        Ellipse:
            pos: self.width*14/16, self.height*73/80
            size: root.height/13, root.height/13
        # Tempurature
        Color:
            rgba: self.Temp_status
        Ellipse:
            pos: self.width*13/16, self.height*73/80
            size: root.height/13, root.height/13
        # Recording
        Color:
            rgba: self.Record_status
        Ellipse:
            pos: self.width*15/16, self.height*64/80
            size: root.height/13, root.height/13    

    # Home Page
        #Break Indicator
        Color:
            rgba: root.Break_status
        Ellipse:
            pos: (self.width*9/14)+(self.width*self.page), self.height/3
            size: root.height/9,root.height/9
        #Break Indicator
        Color:
            rgba: root.Wind_Sheild_status
        Ellipse:
            pos: (self.width*12/14)+(self.width*self.page), self.height/3
            size: root.height/9,root.height/9
        
    # Recording/Setting Page
        Color:
            rgba: 1,1,0,1
        Ellipse:
            pos: (self.width/2)+(self.width*(self.page+1)), self.height/2
            size: 50,50

    #Battery Page
        Color:
            rgba: 1,0,1,1
        Ellipse:
            pos: (self.width/2)+(self.width*(self.page-1)), self.height/2
            size: 50,50
        
    #Motor Page
        Color:
            rgba: 0,1,1,1
        Ellipse:
            pos: (self.width/2)+(self.width*(self.page-2)), self.height/2
            size: 50,50
        
    #Misc Page
        Color:
            rgba: 0,1,0,1
        Ellipse:
            pos: (self.width/2)+(self.width*(self.page-3)), self.height/2
            size: 50,50
            
    #Display Date
    Label:
        text: root.datestring 
        font_size: root.height/13 
        center_x: root.width/9
        center_y: root.height*19/20
    
    #Display Time
    Label:
        text: root.timestring
        font_size: root.height/13  
        center_x: root.width/2
        center_y: root.height*19/20
    
    #Page
    Label:
        text: str(root.page)
        font_size: root.height/13  
        center_x: root.width*3/4
        center_y: root.height*19/20
    
#Home Page 
    #Speed
    Label:
        text: root.speedstring
        font_size: root.height/5  
        center_x: (root.width/4)+root.width*(root.page)
        center_y: root.height*5/8
        color: root.textcolor
    #Torque
    Label:
        text: root.throttlestring
        font_size: root.height/8  
        center_x: (root.width/4)+root.width*(root.page)
        center_y: root.height/2
        color: root.textcolor
    #Break
    Label:
        text: "Break"
        font_size: root.height/16  
        center_x: (root.width*75/112)+root.width*(root.page)
        center_y: root.height*25/52
        color: root.textcolor
    #Wind Sheild
    Label:
        text: "WindShield"
        font_size: root.height/16  
        center_x: (root.width*99/112)+root.width*(root.page)
        center_y: root.height*25/52
        color: root.textcolor
    #DriveMode Park
    Label:
        text: "PARK"
        font_size: root.height/12  
        center_x: (root.width*75/112)+root.width*(root.page)
        center_y: root.height*12/16
        color: root.Dr_Mode_Park_status
    #DriveMode Drive
    Label:
        text: "DRIVE"
        font_size: root.height/12  
        center_x: (root.width*93/112)+root.width*(root.page)
        center_y: root.height*12/16
        color: root.Dr_Mode_Drive_status
    #DriveMode Reverse
    Label:
        text: "REV"
        font_size: root.height/12  
        center_x: (root.width*75/112)+root.width*(root.page)
        center_y: root.height*10/16
        color: root.Dr_Mode_Rev_status
    #DriveMode Slow Drive
    Label:
        text: "SLOW"
        font_size: root.height/12  
        center_x: (root.width*93/112)+root.width*(root.page)
        center_y: root.height*10/16
        color: root.Dr_Mode_Slow_status


    
    #Change page buttons
    BoxLayout:
        orientation: "horizontal"
        center_y: 30
        center_x: 48
        size: root.width+5, root.height/4

        Button:
            text: "<-"
            font_size: root.height/6
            on_press: root.prevpage()
        Button:
            text: root.but1string
            font_size: root.height/9
            on_press: root.but1()
        Button:
            text: root.but2string
            font_size: root.height/9
            on_press: root.but2()
        Button:
            text: "->"
            font_size: root.height/6
            on_press: root.nextpage()
    