#:kivy 2.3.1

<IndE_Display>:
    
#Black header bar
    canvas.before:
        Color:
            rgba: 0, 0, 0, 1
        Rectangle:
            pos: 0, self.height 
            size: self.width, -self.height/10

# All Page/Indicator
    canvas:
        # E-Stop
        Color:
            rgba: self.Emergancy_status
        Ellipse:
            pos: self.width*15/16, self.height*73/80
            size: root.height/13, root.height/13
        # Battery
        Color:
            rgba: self.Battery_status
        Ellipse:
            pos: self.width*14/16, self.height*73/80
            size: root.height/13, root.height/13
        # Tempurature
        Color:
            rgba: self.Temp_status
        Ellipse:
            pos: self.width*13/16, self.height*73/80
            size: root.height/13, root.height/13
        # Recording
        Color:
            rgba: self.Record_status
        Ellipse:
            pos: self.width*15/16, self.height*64/80
            size: root.height/13, root.height/13   



# Home Screen
        #Break Indicator
        Color:
            rgba: root.Break_status
        Ellipse:
            pos: (self.width*9/14)+(self.width*self.page), self.height/3
            size: root.height/9,root.height/9
        #Break Indicator
        Color:
            rgba: root.Wind_Sheild_status
        Ellipse:
            pos: (self.width*12/14)+(self.width*self.page), self.height/3
            size: root.height/9,root.height/9
        
# Recording/Setting Screen
    #    Color:
    #        rgba: 1,0,1,1
    #    Ellipse:
    #        pos: (self.width/2)+(self.width*(self.page+1)), self.height/2
    #        size: root.height/9,root.height/9

    #Battery Screen
        #BMS Indicator
        Color:
            rgba: root.BMS_status
        Ellipse:
            pos: (self.width/7)+(self.width*(self.page-1)), self.height*9/32
            size: root.height/9,root.height/9
        
    #Motor Screen
    #    Color:
    #        rgba: 0,1,1,1
    #    Ellipse:
    #        pos: (self.width/2)+(self.width*(self.page-2)), self.height/2
    #        size: 50,50
        
    #Misc Screen
    #    Color:
    #        rgba: 0,1,0,1
    #    Ellipse:
    #        pos: (self.width/2)+(self.width*(self.page-3)), self.height/2
    #        size: 50,50
            
# Display Date
    Label:
        text: root.datestring 
        font_size: root.height/13 
        center_x: root.width/9
        center_y: root.height*19/20
    
    #Display Time
    Label:
        text: root.timestring
        font_size: root.height/13  
        center_x: root.width/2
        center_y: root.height*19/20
    
    #Page
    Label:
        text: root.pagestring
        font_size: root.height/13  
        center_x: root.width*11/16
        center_y: root.height*19/20
    
#Home Screen 
    #Speed
    Label:
        text: root.speedstring
        font_size: root.height/5  
        center_x: (root.width/4)+root.width*(root.page)
        center_y: root.height*5/8
        color: root.textcolor
    #Torque
    Label:
        text: root.throttlestring
        font_size: root.height/8  
        center_x: (root.width/4)+root.width*(root.page)
        center_y: root.height/2
        color: root.textcolor
    #Break
    Label:
        text: "Break"
        font_size: root.height/16  
        center_x: (root.width*75/112)+root.width*(root.page)
        center_y: root.height*25/52
        color: root.textcolor
    #Wind Sheild
    Label:
        text: "WindShield"
        font_size: root.height/16  
        center_x: (root.width*99/112)+root.width*(root.page)
        center_y: root.height*25/52
        color: root.textcolor
    #DriveMode Park
    Label:
        text: "PARK"
        font_size: root.height/12  
        center_x: (root.width*75/112)+root.width*(root.page)
        center_y: root.height*12/16
        color: root.Dr_Mode_Park_status
    #DriveMode Drive
    Label:
        text: "DRIVE"
        font_size: root.height/12  
        center_x: (root.width*93/112)+root.width*(root.page)
        center_y: root.height*12/16
        color: root.Dr_Mode_Drive_status
    #DriveMode Reverse
    Label:
        text: "REV"
        font_size: root.height/12  
        center_x: (root.width*75/112)+root.width*(root.page)
        center_y: root.height*10/16
        color: root.Dr_Mode_Rev_status
    #DriveMode Slow Drive
    Label:
        text: "SLOW"
        font_size: root.height/12  
        center_x: (root.width*93/112)+root.width*(root.page)
        center_y: root.height*10/16
        color: root.Dr_Mode_Slow_status

#Battery Screen 
    #Speed
    Label:
        text: root.speedstring
        font_size: root.height/6  
        center_x: (root.width*11/50)+root.width*(root.page-1)
        center_y: root.height*24/32
        color: root.textcolor
    #Current
    Label:
        text: "Current:"
        font_size: root.height/12  
        center_x: (root.width*11/100)+root.width*(root.page-1)
        center_y: root.height*37/64
        color: root.textcolor
    Label:
        text: root.currentstring
        font_size: root.height/12  
        center_x: (root.width*14/50)+root.width*(root.page-1)
        center_y: root.height*37/64
        color: root.textcolor
    #BMS Status
    Label:
        text: "BMS Status"
        font_size: root.height/16  
        center_x: (root.width*7/40)+root.width*(root.page-1)
        center_y: root.height*14/32
        color: root.textcolor
    #Max Battery Tempurature
    Label:
        text: "Hottest Battery Temp (°C)"
        font_size: root.height/13  
        center_x: (root.width*11/16)+root.width*(root.page-1)
        center_y: root.height*13/16
        color: root.textcolor
    #Battery Label
    Label:
        text: "A:                B:\nC:                D:\nE:                F:"
        font_size: root.height/13  
        center_x: (root.width*79/128)+root.width*(root.page-1)
        center_y: root.height*20/32
        color: root.textcolor
    #Battery A Max Tempurature
    Label:
        text: root.MaxTempBatAstring
        font_size: root.height/13  
        center_x: (root.width*75/128)+root.width*(root.page-1)
        center_y: root.height*183/256
        color: root.textcolor
    #Battery B Max Tempurature
    Label:
        text: root.MaxTempBatBstring
        font_size: root.height/13  
        center_x: (root.width*99/128)+root.width*(root.page-1)
        center_y: root.height*183/256
        color: root.textcolor
    #Battery C Max Tempurature
    Label:
        text: root.MaxTempBatCstring
        font_size: root.height/13  
        center_x: (root.width*75/128)+root.width*(root.page-1)
        center_y: root.height*20/32
        color: root.textcolor
    #Battery D Max Tempurature
    Label:
        text: root.MaxTempBatDstring
        font_size: root.height/13  
        center_x: (root.width*99/128)+root.width*(root.page-1)
        center_y: root.height*20/32
        color: root.textcolor
    #Battery E Max Tempurature
    Label:
        text: root.MaxTempBatEstring
        font_size: root.height/13  
        center_x: (root.width*75/128)+root.width*(root.page-1)
        center_y: root.height*137/256
        color: root.textcolor
    #Battery F Max Tempurature
    Label:
        text: root.MaxTempBatFstring
        font_size: root.height/13  
        center_x: (root.width*99/128)+root.width*(root.page-1)
        center_y: root.height*137/256
        color: root.textcolor
    #Charge label
    Label:
        text: "Charge:"
        font_size: root.height/10  
        center_x: (root.width*9/16)+root.width*(root.page-1)
        center_y: root.height*3/8
        color: root.textcolor
    #Charge %
    Label:
        text: root.LowChargestring
        font_size: root.height/10  
        center_x: (root.width*47/64)+root.width*(root.page-1)
        center_y: root.height*3/8
        color: root.textcolor

#Motor Screen
    #Speed
    Label:
        text: root.MSspeedstring
        font_size: root.height/6  
        center_x: (root.width*11/50)+root.width*(root.page-2)
        center_y: root.height*24/32
        color: root.textcolor
    #Rotation
    Label:
        text: root.MSrotationstring
        font_size: root.height/6  
        center_x: (root.width*11/50)+root.width*(root.page-2)
        center_y: root.height*19/32
        color: root.textcolor
    #Motor Temp Label
    Label:
        text: "Temp:"
        font_size: root.height/10  
        center_x: (root.width*8/64)+root.width*(root.page-2)
        center_y: root.height*7/16
        color: root.textcolor
    #Motor Temp
    Label:
        text: root.motortempstring
        font_size: root.height/10  
        center_x: (root.width*19/64)+root.width*(root.page-2)
        center_y: root.height*7/16
        color: root.textcolor
    #Motor Torque Label
    Label:
        text: "Torque:"
        font_size: root.height/10  
        center_x: (root.width*7/64)+root.width*(root.page-2)
        center_y: root.height*5/16
        color: root.textcolor
    #Motor Torque
    Label:
        text: root.motortorquestring
        font_size: root.height/10  
        center_x: (root.width*19/64)+root.width*(root.page-2)
        center_y: root.height*5/16
        color: root.textcolor
    #Motor Controller Tempurature
    Label:
        text: "Motor Controller Temp (°C)"
        font_size: root.height/13  
        center_x: (root.width*11/16)+root.width*(root.page-2)
        center_y: root.height*13/16
        color: root.textcolor
    #Battery Label
    Label:
        text: "1:                2:\n3:                4:\n5:                6:"
        font_size: root.height/13  
        center_x: (root.width*79/128)+root.width*(root.page-2)
        center_y: root.height*20/32
        color: root.textcolor
    #Motor Controller Tempurature 1
    Label:
        text: root.motorcontrollertemp1string
        font_size: root.height/13  
        center_x: (root.width*75/128)+root.width*(root.page-2)
        center_y: root.height*183/256
        color: root.textcolor
    #Motor Controller Tempurature 2
    Label:
        text: root.motorcontrollertemp2string
        font_size: root.height/13  
        center_x: (root.width*99/128)+root.width*(root.page-2)
        center_y: root.height*183/256
        color: root.textcolor
    #Motor Controller Tempurature 3
    Label:
        text: root.motorcontrollertemp3string
        font_size: root.height/13  
        center_x: (root.width*75/128)+root.width*(root.page-2)
        center_y: root.height*20/32
        color: root.textcolor
    #Motor Controller Tempurature 4
    Label:
        text: root.motorcontrollertemp4string
        font_size: root.height/13  
        center_x: (root.width*99/128)+root.width*(root.page-2)
        center_y: root.height*20/32
        color: root.textcolor
    #Motor Controller Tempurature 5
    Label:
        text: root.motorcontrollertemp5string
        font_size: root.height/13  
        center_x: (root.width*75/128)+root.width*(root.page-2)
        center_y: root.height*137/256
        color: root.textcolor
    #Motor Controller Tempurature 6
    Label:
        text: root.motorcontrollertemp6string
        font_size: root.height/13  
        center_x: (root.width*99/128)+root.width*(root.page-2)
        center_y: root.height*137/256
        color: root.textcolor
    #Phase Current Label
    Label:
        text: "Phase Current (A)"
        font_size: root.height/13  
        center_x: (root.width*21/32)+root.width*(root.page-2)
        center_y: root.height*13/32
        color: root.textcolor
    #Current Label
    Label:
        text: "A:             B:            C:"
        font_size: root.height/13  
        center_x: (root.width*82/128)+root.width*(root.page-2)
        center_y: root.height*20/64
        color: root.textcolor
    #Phase A Current
    Label:
        text: root.phaseAcurrentstring
        font_size: root.height/13  
        center_x: (root.width*35/64)+root.width*(root.page-2)
        center_y: root.height*20/64
        color: root.textcolor
    #Phase B Current
    Label:
        text: root.phaseBcurrentstring
        font_size: root.height/13  
        center_x: (root.width*45/64)+root.width*(root.page-2)
        center_y: root.height*20/64
        color: root.textcolor
    #Phase C Current
    Label:
        text: root.phaseCcurrentstring
        font_size: root.height/13  
        center_x: (root.width*55/64)+root.width*(root.page-2)
        center_y: root.height*20/64
        color: root.textcolor

#Setting Screen
    #Speed
    Label:
        text: root.speedstring
        font_size: root.height/6  
        center_x: (root.width*11/50)+root.width*(root.page+1)
        center_y: root.height*24/32
        color: root.textcolor
    #File Name Label
    Label:
        text: "File:"
        font_size: root.height/10  
        center_x: (root.width*5/64)+root.width*(root.page+1)
        center_y: root.height*19/32
        color: root.textcolor
    #File Name
    Label:
        text: root.filenamestring
        font_size: root.height/16  
        center_x: (root.width*18/64)+root.width*(root.page+1)
        center_y: root.height*19/32
        color: root.textcolor
    #Input File Name
    TextInput:
        id: filenameinput
        center_x: (root.width*70/256)+root.width*(root.page+1)
        center_y: root.height*7/16
        width: root.width*8/27
        height: root.height/10
        font_size: root.height/16
        multiline: False
        on_text_validate: root.filenameupdate()
    #Submit File Name Button
    Button:
        text: "Submit\nName"
        font_size: root.height/28
        center_x: (root.width*5/64)+root.width*(root.page+1)
        center_y: root.height*7/16
        size: root.width/11, root.height/10
        on_release: root.filenameupdate()
    


#Misc Screen
    #Speed
    Label:
        text: root.speedstring
        font_size: root.height/6  
        center_x: (root.width*11/50)+root.width*(root.page-3)
        center_y: root.height*24/32
        color: root.textcolor

    
#Buttons
    BoxLayout:
        orientation: "horizontal"
        center_y: 30
        center_x: 48
        size: root.width+5, root.height/4

        Button:
            text: "<-"
            font_size: root.height/6
            on_press: root.prevpage()
        Button:
            text: root.but1string
            font_size: root.height/9
            on_press: root.but1()
        Button:
            text: root.but2string
            font_size: root.height/9
            on_press: root.but2()
        Button:
            text: "->"
            font_size: root.height/6
            on_press: root.nextpage()
    
